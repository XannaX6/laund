{% extends 'laund/partials/base.html' %}
{% load static %}
{% block style %}
<style>
    .how-it-works {
        overflow: hidden;
    }

    .step-card {
        opacity: 0;
        transform: translateY(40px);
        transition: all 0.7s ease;
    }

    .step-card.show {
        opacity: 1;
        transform: translateY(0);
    }

    .arrow {
        position: absolute;
        right: -10px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 2rem;
        color: #0d6efd;
        animation: bounce 1.5s infinite;
    }

    @keyframes bounce {
        0%,
        100% {
            transform: translateY(-50%) translateX(0);
        }

        50% {
            transform: translateY(-50%) translateX(8px);
        }
    }
</style>
{% endblock %}
{% block content %}

<!-- HERO SECTION -->
<section class="hero-section text-white text-center d-flex align-items-center">
    <div class="container">
        <h1 class="display-4 fw-bold">Fresh, Fast Laundry in Abuja</h1>
        <p class="lead">Pickup • Cleaning • Delivery</p>
        <a href="{% url 'laund:booking' %}" class="btn btn-warning btn-lg mt-3 shadow">
            Book a Pickup
        </a>
    </div>
</section>

<!-- SERVICES SECTION -->
<div class="container py-5">
    <div class="text-center mb-5">
        <h2 class="fw-bold">Our Services</h2>
        <p class="text-muted">Professional care for all your garments</p>
    </div>

    <div class="row g-4">
        {% for s in services %}
        <div class="col-lg-4 col-md-6">
            <div class="card border-0 shadow h-100 service-card">
                {% if s.image %}
                <img src="{{ s.image.url }}" class="card-img-top" alt="{{ s.name }}">
                {% else %}
                <img src="{% static 'images/default-service.png' %}" class="card-img-top" alt="service">
                {% endif %}

                <div class="card-body text-center">
                    <h5 class="card-title fw-bold">{{ s.name }}</h5>
                    <p class="card-text text-muted">{{ s.description }}</p>
                    <span class="badge bg-primary fs-6">₦{{ s.price }}</span>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- WHY CHOOSE US -->
<section class="bg-light py-5">
    <div class="container">
        <div class="text-center mb-5">
        <h2 class="fw-bold">Why choose us</h2>
    </div>
        <div class="row text-center g-4">
            <div class="col-md-4">
                <i class="bi bi-truck fs-1 text-primary"></i>
                <h5 class="mt-3">Free Pickup & Delivery</h5>
                <p class="text-muted">We come to you so you can focus on what matters.</p>
            </div>

            <div class="col-md-4">
                <i class="bi bi-clock-history fs-1 text-primary"></i>
                <h5 class="mt-3">Fast Turnaround</h5>
                <p class="text-muted">Get your clothes cleaned within 24 hours.</p>
            </div>

            <div class="col-md-4">
                <i class="bi bi-stars fs-1 text-primary"></i>
                <h5 class="mt-3">Premium Care</h5>
                <p class="text-muted">We treat every garment with expert attention.</p>
            </div>
        </div>
    </div>
</section>

<!-- CALL TO ACTION -->
<section class="bg-primary text-white text-center py-5">
    <div class="container">
        <h2 class="fw-bold">Ready for Fresh Clothes?</h2>
        <p>Schedule a pickup today and experience stress‑free laundry.</p>
        <a href="{% url 'laund:booking' %}" class="btn btn-light btn-lg">
            Get Started
        </a>
    </div>
</section>

<!-- HOW IT WORKS -->
<section class="py-5 how-it-works">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold">How It Works: in 4 Easy Steps</h2>
            <p class="text-muted">Simple, fast, and convenient laundry service</p>
        </div>

        <div class="row g-4 text-center position-relative">

            <!-- Step 1 -->
            <div class="col-lg-3 col-md-6 step-item">
                <div class="card border-0 shadow h-100 p-3 step-card">
                    <img src="{% static 'laund/images/step1.jpg' %}" class="img-fluid mb-3" alt="Schedule a wash">
                    <h5 class="fw-bold">Step 1</h5>
                    <p class="text-muted">Schedule a Wash with us</p>
                </div>
                <div class="arrow d-none d-lg-block">➜</div>
            </div>

            <!-- Step 2 -->
            <div class="col-lg-3 col-md-6 step-item">
                <div class="card border-0 shadow h-100 p-3 step-card">
                    <img src="{% static 'laund/images/step2.jpg' %}" class="img-fluid mb-3" alt="Pickup clothes">
                    <h5 class="fw-bold">Step 2</h5>
                    <p class="text-muted">We pick up your clothes</p>
                </div>
                <div class="arrow d-none d-lg-block">➜</div>
            </div>

            <!-- Step 3 -->
            <div class="col-lg-3 col-md-6 step-item">
                <div class="card border-0 shadow h-100 p-3 step-card">
                    <img src="{% static 'laund/images/step3.jpg' %}" class="img-fluid mb-3" alt="Clean clothes">
                    <h5 class="fw-bold">Step 3</h5>
                    <p class="text-muted">We clean your clothes</p>
                </div>
                <div class="arrow d-none d-lg-block">➜</div>
            </div>

            <!-- Step 4 -->
            <div class="col-lg-3 col-md-6 step-item">
                <div class="card border-0 shadow h-100 p-3 step-card">
                    <img src="{% static 'laund/images/step4.jpeg' %}" class="img-fluid mb-3" alt="Deliver clothes">
                    <h5 class="fw-bold">Step 4</h5>
                    <p class="text-muted">We deliver clean, hanged or folded clothes</p>
                </div>
            </div>

        </div>
    </div>
</section>

<!-- SCROLL ANIMATION SCRIPT -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const cards = document.querySelectorAll('.step-card');

        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('show');
                }
            });
        }, { threshold: 0.2 });

        cards.forEach(card => observer.observe(card));
    });
</script>

<!-- GOOGLE MAP -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-4">
            <h2 class="fw-bold">Find Us in Abuja</h2>
            <p class="text-muted">We are conveniently located to serve you better</p>
        </div>

        <div class="ratio ratio-16x9 shadow rounded overflow-hidden">
            <iframe src="https://www.google.com/maps?q=Abuja,Nigeria&output=embed" width="600" height="450"
                style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
            </iframe>
        </div>
    </div>
</section>

{% endblock %}